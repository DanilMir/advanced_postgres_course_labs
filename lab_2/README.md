# Лабараторная 2

# Задание

Создайте наследуемую структуру таблиц в методологии разделов. Используйте правила базы данных для перенаправления трафика DML для операторов INSERT

### Входные данные (Требования?):

- Установите собственный тип наследуемых таблиц (10 таблиц + 1 концентратор) на основе hub-таблицы со структурой {id, name}.
- Настройте необходимые контрольные ограничения для каждой дочерней таблицы
- Загрузите 1 000 000 строк в концентраторную таблицу.

### Выходные данные (Что должно получиться?):

- flyway скрипт для создания всех наследуемых таблиц и необходимых проверочных ограничений.
- скрипт flyway для описания всех необходимых правил базы данных INSERT для таблицы-концентратора
- скрипт flyway для загрузки 1 000 000 строк в таблицу hub
- График распределения объема данных для всех задействованных дочерних элементов после объемной загрузки INSERT. (должно быть похоже на равномерное распределение)
- скрипт flyway для описания всех необходимых правил базы данных UPDATE для дочерних таблиц
- простой скрипт (не flyway) для выполнения массового UPDATE для инициирования перемещения строки из одной дочерней таблицы в другую на основе описанных правил базы данных UPDATE
- График распределения объема данных по всем задействованным разделам после объемной загрузки UPDATE (должен отличаться от предыдущего графика).

--- 
# Решение 

Первый этап затрагивает первые 6 пунктов
```
sh first_step.sh
```

Вывод графика
```
python graph_distribution.py
```


Второй этап затрагивает пункт для массового UPDATE
```
sh second_step(update_tables).sh
```

Вывод графика
```
python graph_distribution.py
```